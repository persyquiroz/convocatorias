import{j as A,k as H,l as q,m as K}from"./chunk-2ROHVELT.js";import{a as Q,b as W}from"./chunk-6IZRV72R.js";import{l as G,m as J}from"./chunk-QCTLU5KR.js";import"./chunk-5AL6BP45.js";import"./chunk-IX6G3U3V.js";import{a as N}from"./chunk-PBBC5T5L.js";import{i as L,k as R,n as V}from"./chunk-XKBAUKFN.js";import{Ea as y,Eb as g,Fa as C,Ib as z,Jb as P,Kc as k,Lb as s,Rb as M,Tb as $,Ub as F,Vb as i,Wb as n,Xb as c,Z as x,Zb as D,aa as E,cc as T,ec as _,g as f,hb as w,hc as B,ia as b,mb as o,oa as l,pc as r,q as v,qc as m,tc as O,ua as I,uc as U,v as S,vc as j,wc as h,xc as u}from"./chunk-XIX3ZHYF.js";var X=(()=>{class t{http=l(N);baseUrl=Q.baseUrlSso;transf=l(W);listadoPag(e){let a=this.baseUrl+"/comun/conv-entidades/",d=this.transf.params(e);return this.http.get(a+d)}static \u0275fac=function(a){return new(a||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ee=()=>[2,4,10,25,100,500,1e3];function te(t,p){t&1&&c(0,"mat-progress-bar",11)}function ie(t,p){if(t&1&&c(0,"img",13),t&2){let e=_().$implicit;s("src",e.logo_url,w)}}function ne(t,p){t&1&&c(0,"img",14)}function ae(t,p){if(t&1&&(i(0,"tr",9)(1,"td",12),r(2),n(),i(3,"td",12),g(4,ie,1,1)(5,ne,1,0),z(6,4,null,null,5),P(),n(),i(8,"td"),r(9),n(),i(10,"td"),r(11),n(),i(12,"td"),r(13),n()()),t&2){let e=p.$implicit,a=p.$index;o(2),m(a+1),o(7),m(e.nombre),o(2),m(e.siglas),o(2),m(e.lugar)}}function re(t,p){if(t&1){let e=D();i(0,"div")(1,"mat-paginator",15),T("page",function(d){y(e);let Y=_();return C(Y.changePage(d))}),n()()}if(t&2){let e=p.ngIf;o(),B("pageIndex",e.current_page-1),s("length",e.total)("pageSize",e.page_size)("pageSizeOptions",j(4,ee))}}var ye=(()=>{class t{changeDetectionRef=l(k);entidades$=new f;entidadService=l(X);pagination$=new f;paging={search:"",page_size:10,last_page:1,current_page:1,ordering:"nombre"};cargado=!1;ngOnInit(){this.listar()}listar(){this.cargado=!1;let e=this.entidadService.listadoPag(this.paging).pipe(x(1));this.entidades$=e.pipe(E(a=>(this.cargado=!0,v(a.data)))),this.pagination$=e.pipe(S(a=>a.pagination)),this.changeDetectionRef.markForCheck()}changePage(e){console.log("e: ",e),this.paging.page_size!=e.pageSize?(this.paging.page_size=e.pageSize,this.paging.current_page=1):(this.paging.page_size=e.pageSize,this.paging.current_page=e.pageIndex+1),this.listar()}static \u0275fac=function(a){return new(a||t)};static \u0275cmp=I({type:t,selectors:[["app-entidades"]],standalone:!0,features:[O([{provide:A,useClass:K}]),U],decls:27,vars:8,consts:[[1,"card-titulo","p-3"],[1,"mb-0"],[1,"m-0"],[1,"p-3"],["mode","indeterminate",4,"ngIf"],[1,"table-responsive"],["width","100%",1,"basic","table-bordered","table-color"],[1,"bg-eee"],[3,"width"],[1,"tr_color_yellow"],[4,"ngIf"],["mode","indeterminate"],["align","center"],[1,"logo-entidad",3,"src"],["src","logo-entidad.png",1,"logo-entidad"],["showFirstLastButtons","","aria-label","Select page",3,"page","length","pageSize","pageIndex","pageSizeOptions"]],template:function(a,d){a&1&&(i(0,"div",0)(1,"h4",1),r(2,"Entidades"),n(),i(3,"p",2),r(4,"Listado de entidades"),n()(),i(5,"div",3),g(6,te,1,0,"mat-progress-bar",4),i(7,"div",5)(8,"table",6)(9,"thead")(10,"tr",7)(11,"th",8),r(12,"#"),n(),i(13,"th",8),r(14,"Logo"),n(),i(15,"th"),r(16,"Nombre"),n(),i(17,"th"),r(18,"Siglas"),n(),i(19,"th"),r(20,"Lugar"),n()()(),i(21,"tbody"),$(22,ae,14,4,"tr",9,M),h(24,"async"),n()()(),g(25,re,2,5,"div",10),h(26,"async"),n()),a&2&&(o(6),s("ngIf",!d.cargado),o(5),s("width",25),o(2),s("width",50),o(9),F(u(24,4,d.entidades$)),o(3),s("ngIf",u(26,6,d.pagination$)))},dependencies:[R,q,H,V,L,J,G],changeDetection:0})}return t})();export{ye as EntidadesComponent};
